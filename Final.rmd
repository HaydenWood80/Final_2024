---
title: "Covid91 vaccine study Final2024"
author: "Hayden Wood!"
output: 
  html_document:
    number_sections: true
    toc: true
    toc_depth: 5
date: "`r Sys.Date()`" 
---

```{r include=FALSE,echo=FALSE}
require(tidyverse)
require(tigerstats)
require(forcats)
FinalDat <-read.csv(file="final.csv",header=TRUE)
#recode to remove the annoying "X" from the dataframe
FinalData <- FinalDat  %>% select(-one_of("X"))
FinalData <- FinalData %>%
mutate(across(where(is.character), as.factor))
```

# Introduction

A new  preventative vaccine (covid921) is under test in clinical trials. Given the nature of this vaccine it is suspected that the drug may exhibit different effectiveness across the variety of subpopulations tracked. Consider population subgroups by gender( guys and gals), drug use, and sexual orientation. Write a complete report that separately considers this drug for each subgroup and your recommendations as to whether people in the subgroup should take the vaccine. Structure your report in four sections each devoted to one of the four subgroups, use null and alternative hypothesis statements and correct statistical verbage when referencing p-values in conclusions.

$H_0$ The new preventative vaccine (covid921) does exhibit different effectiveness across the variety of subpopulations tracked

$H_A$ The new preventative vaccine (covid921) does NOT exhibit different effectiveness across the variety of subpopulations tracked

#Methods

Covid921 is a Categorical data and also Sub-populations is a catagorical data, so we will use the Cat_Cat helper file


## Males



# Results

## Descriptive Results

Here we are going to compare the effectiveness in males that have been given the Covid921


### Graphical Descriptive Results

```{r}
levels(FinalData$sex)
dataG = filter(FinalData,sex=="M")

dd2 <- dataG %>% group_by(treatment,infected) %>% summarize(count=n()) %>% mutate(prcnt=count/sum(count))


# the group_by followed by summarize(count=n())

basicC <- ggplot(dd2,aes(x=treatment,y=count,fill=infected))
basicC + geom_bar(stat="identity",position="dodge")

#Now for percentage plot

basicCC <- ggplot(dd2,aes(x=treatment,y=prcnt*100,fill=infected)) 
basicCC + geom_bar(stat="identity", position = "dodge")
```

This graph suggests that the difference in males that have been given the "placebo" compared to the real "vaccine" has a appeared to be higher when compared to the "vaccine"

### Numerical Descriptive Results
```{r}
levels(FinalData$sex)
dataG = filter(FinalData,sex=="M")

table1 <- xtabs(~infected +treatment , data=dataG)
rowPerc(table1)
colPerc(table1)
```
This table suggest that the number of males "M" that recieved the "treatment" has much lower infection rate than those who did not recieve the "treatment"

## Inferential Results

```{r}
levels(FinalData$sex)
dataG = filter(FinalData,sex=="M")


chisq.test(table1)
chisqtestGC(table1)
fisher.test(table1)
```

This Chi square statistic shows that the p-value comes out to be 4.631e-14 for the effectiveness in males

## Females



# Results

## Descriptive Results

Here we are going to compare the effectiveness in females that have been given the Covid921. With all the codes in this section we make sure to start with a code that filters to make sure we are only using datasets from the gender "f"

### Graphical Descriptive Results
```{r}
levels(FinalData$sex)
dataG = filter(FinalData,sex=="F")

dd2 <- dataG %>% group_by(treatment,infected) %>% summarize(count=n()) %>% mutate(prcnt=count/sum(count))


# the group_by followed by summarize(count=n())

basicC <- ggplot(dd2,aes(x=treatment,y=count,fill=infected))
basicC + geom_bar(stat="identity",position="dodge")

#Now for percentage plot

basicCC <- ggplot(dd2,aes(x=treatment,y=prcnt*100,fill=infected)) 
basicCC + geom_bar(stat="identity", position = "dodge")
```

This graph shows the difference between infected patients who received either a placebo vaccine or the actual vaccine between, the gender "f" in females. We make sure to include a code at the begging to make sure we are only using data set "f" in the sex column. This also shows 2 graphs, 1 in percentages and one in count.

### Numerical Descriptive Results

```{r}
levels(FinalData$sex)
dataG = filter(FinalData,sex=="F")

table1 <- xtabs(~infected +treatment , data=dataG)
rowPerc(table1)
colPerc(table1)
```

This table shows the differences in infected patients that are female that have received that vaccine or placebo vs those who haven't. Th percentages suggest that the covid treatment could have a positive affect in showing resistance to the covid disiese

## Inferential Results

```{r}
levels(FinalData$sex)
dataG = filter(FinalData,sex=="f")


chisq.test(table1)
chisqtestGC(table1)
fisher.test(table1)
```

## LGBTQ




# Results

## Descriptive Results

### Graphical Descriptive Results

### Numerical Descriptive Results

## Inferential Results



## Druggies




# Results

## Descriptive Results

### Graphical Descriptive Results

### Numerical Descriptive Results

## Inferential Results


# Overall Results and Conclusions



